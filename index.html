<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probability of Superiority</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@materializecss/materialize@1.1.0-alpha/dist/css/materialize.min.css">
    <link rel="stylesheet" href="dist/prob.css">
</head>
<body>
    <div id="container" class="container">
        <h2>Probability of superiority</h2>
        <h2 id="loading">Loading...
            <div class="progress">
                <div class="indeterminate"></div>
            </div>
        </h2>
        <h2 id="submitting">Submitting results...
            <div class="progress">
                <div class="indeterminate"></div>
            </div>
        </h2>
        <div id="submitsuccess">Success! Your experiment has concluded.</div>
        <div id="submitfailure">
            Error. Your results have somehow failed to submit. Please email decisionresearchlab@outlook.com referencing
            the following information and we will look into the issue:
            <div id="errorBlock" class="card-panel">
            Participant Id: <div id="workerIdError"></div>
            <br />
            Survey id: <div id="taskIdError"></div>
            <br />
            Error: <div id="turkSubmitError"></div>
            </div>
        </div>
        <div id="game">
            <div id="dashboard" class="row card-panel">
                <div class="col l6 m12">
                    <h4>Trial <span id="trialdisplay">1</span> of 20</h4>
                    <p>Suppose you have measurements on two groups of people, some in a treatment condition and some in a control condition. The outcomes in each condition follow a bell curve (or normal distribution), as you might see for heights or weights. The accompanying plot shows the estimated average of each group with a 95% confidence interval around each estimate.  
                    </p>
                    <p><b>
                        Suppose we drew 100 pairs of people from the treatment and control groups. Out of those 100 pairs, in how many pairs can we expect the treatment outcome to be higher than the control outcome? 
                    </b></p>
                    <p><em>Note: on some trials you will see the correct answer after your guess.</em></p>

                    <div id="results">
                        <div>
                            Guess:
                            <form action="#" id="theguess_form">
                                <input type="number" id="theguess" placeholder="50-100" min=50 max=100></input>
                            </form>
                        </div>
                        <div id="after_game">
                            <div id="answer_block">
                                Answer: <span id="answer">&nbsp;</span>
                            </div>

                            <div id="tutorial">The 95% confidence intervals were generated from data points, which we
                                are now showing. We rescaled the y-axis of the plot, but the confidence intervals
                                themselves haven't changed.</div>
                            <div>
                                <a class="btn waves-effect waves-light" id="newgame">Continue</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col l6 m12">
                    <div id="chart"></div>
                </div>
            </div>

            <div id="trialsettings" class="col s12">
                <div><b>Debug settings (these will be removed before putting on mturk)</b></div>
                <form id="experiment_debug_form" action="#">
                    <p><label for="condition1"><input type="radio" id="condition1" name="condition" value="SE_ONLY"
                                checked="checked" /> <span>Condition 1 (SE only)</span></label></p>
                    <p><label for="condition2"><input type="radio" id="condition2" name="condition" value="SE_POINTS" />
                            <span>Condition 2 (SE + points)</span></label></p>
                    <p><label for="condition3"><input type="radio" id="condition3" name="condition"
                                value="SE_POINTS_ONESHOT" /> <span>Condition 3 (SE + points oneshot)</span></label></p>
                    <p><label for="condition4"><input type="radio" id="condition4" name="condition"
                                value="SE_POINTS_FEEDBACK" /> <span>Condition 4 (SE + points feedback)</span></label>
                    </p>
                    <label for="trialnumber">Trial number<input type="number" id="trialnumber" placeholder="1-20" min=1
                            max=20 value=1></input></label>
                </form>
            </div>


            <div id="debug_data_panel" class="col s12">
                <div><b>Data collected so far</b></div>
                <div id="debug_data"></div>
            </div>


            <div id="confirmation_modal" class="modal">
                <div class="modal-content">
                    <h4>What you are seeing is about to change</h4>
                    <p>The error bars are still 95% confidence intervals, except now we will hide or display the data
                        points that the error bars were generated from.</p>
                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-close waves-effect waves-green btn-flat">I understand</a>
                </div>
            </div>
        </div>
    </div>

    
    <!--<script type="text/javascript" src="https://unpkg.com/@stdlib/dist-flat"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/@materializecss/materialize@1.1.0-alpha/dist/js/materialize.min.js"></script>
    <script src="dist/prob.js"></script>
</body>
</html>